{{ 'theme-header-main.css' | asset_url | stylesheet_tag }}

{% assign logo_text = "{{ logo_text }}" %}
{% assign login_text = "{{ login_text }}" %}
{% assign account_text = "{{ account_text }}" %}
{% assign start_text = "{{ start_text }}" %}

{% if section.settings.logo_text != blank %}{% assign logo_text = section.settings.logo_text %}{% endif %}
{% if section.settings.login_text != blank %}{% assign login_text = section.settings.login_text %}{% endif %}
{% if section.settings.account_text != blank %}{% assign account_text = section.settings.account_text %}{% endif %}
{% if section.settings.start_text != blank %}{% assign start_text = section.settings.start_text %}{% endif %}

<div class="c-headerMain" data-header-main>
  <div class="c-headerMain__wrapper o-containerLarge">

    <div class="c-headerMain__primary">

      <a href="/" class="c-headerMain__logo">
        <h1 class="c-headerMain__logoBox">
          {% if section.settings.logo_image %}
  <!--           <img class="c-headerMain__logoImage" 
              src="{{ section.settings.logo_image | img_url }}"
              alt="{{ section.settings.logo_image.alt }}" 
            /> -->
            <img 
              class="c-headerMain__logoImage"
              src="{{ section.settings.logo_image | img_url: 'master' }}"
              alt="{{ section.settings.logo_image.alt }}"
              style="max-width: 150px">
          {% else %}
            <span class="c-headerMain__logoText">{{ logo_text }}</span>
          {% endif %}
        </h1>
      </a>

      {% if linklists[section.settings.menu_list].links.size > 0 %}
        <ul class="c-headerMain__menuNav">
          {% for link in linklists[section.settings.menu_list].links %}
            <li class="c-headerMain__menuNavItem{% if link.active %}--active{% endif %}"><a href="{{ link.url }}" class="c-headerMain__menuNavLink">{{ link.title }}</a></li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>


    <div class="c-headerMain__secondary">      
      {% if customer %}
        <a href="/account" class="c-headerMain__account">
          {% if section.settings.account_image %}
            <img class="c-headerMain__accountImage"
              src="{{ section.settings.account_image | img_url }}"
              alt="{{ section.settings.account_image.alt }}" 
            />
          {% else %}
            <span class="c-headerMain__accountText">{{ account_text }}</span>
          {% endif %}
        </a>
      {% else %}
      <button class="c-button c-button--isHollow c-button--isBlack">
        <a href="/account/login">
          {% if section.settings.login_image %}
            <img class="c-headerMain__accountImage"
              src="{{ section.settings.login_image | img_url }}"
              alt="{{ section.settings.login_image.alt }}" 
            />
          {% else %}
            <span class="c-headerMain__accountText">{{ login_text }}</span>
          {% endif %}
        </a>
      </button>
      {% endif %}
      <button class="c-headerMain__start c-button c-button--isDefault c-button--isPrimary" data-start-trigger>
        <span class="c-headerMain__startText">{{ start_text }}</span>
      </button>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Header Main",
    "settings": [
      {
        "type": "header",
        "content": "Logo"
      },
      {
        "id": "logo_image",
        "type": "image_picker",
        "label": "Logo Image"
      },
      {
        "id": "logo_text",
        "type": "text",
        "label": "Logo Text"
      },
      {
        "type": "header",
        "content": "Menu"
      },
      {
        "type": "link_list",
        "id": "menu_list",
        "label": "Menu List",
        "default": "main-menu"
      },      
      {
        "type": "header",
        "content": "Account"
      },
      {
        "id": "login_text",
        "type": "text",
        "label": "Login Text"
      },
      {
        "id": "account_text",
        "type": "text",
        "label": "Account Text"
      },
      {
        "id": "account_image",
        "type": "image_picker",
        "label": "Account Image"
      },
      {
        "type": "header",
        "content": "Get Started"
      },
      {
        "id": "start_text",
        "type": "text",
        "label": "Start Text"
      }
    ]
  }
{% endschema %}